{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst dateTimePicker = document.getElementById('datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\nconst daysElement = document.querySelector('[data-days]');\nconst hoursElement = document.querySelector('[data-hours]');\nconst minutesElement = document.querySelector('[data-minutes]');\nconst secondsElement = document.querySelector('[data-seconds]');\n\nlet selectedDate = null;\nlet intervalId = null;\n\nstartBtn.disabled = true;\n\nflatpickr(dateTimePicker, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const date = selectedDates[0];\n        if (date <= new Date()) {\n            iziToast.error({ title: 'Error', message: 'Please choose a date in the future' });\n            startBtn.disabled = true;\n        } else {\n            selectedDate = date;\n            startBtn.disabled = false;\n        }\n    },\n});\n\nstartBtn.addEventListener('click', startCountdown);\n\nfunction startCountdown() {\n    startBtn.disabled = true;\n    dateTimePicker.disabled = true;\n\n    intervalId = setInterval(() => {\n        const timeLeft = selectedDate - new Date();\n\n        if (timeLeft <= 0) {\n            clearInterval(intervalId);\n            updateDisplay(0, 0, 0, 0);\n            dateTimePicker.disabled = false;\n        } else {\n            const { days, hours, minutes, seconds } = convertMs(timeLeft);\n            updateDisplay(days, hours, minutes, seconds);\n        }\n    }, 1000);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction updateDisplay(days, hours, minutes, seconds) {\n    daysElement.textContent = String(days).padStart(2, '0');\n    hoursElement.textContent = String(hours).padStart(2, '0');\n    minutesElement.textContent = String(minutes).padStart(2, '0');\n    secondsElement.textContent = String(seconds).padStart(2, '0');\n}"],"names":["dateTimePicker","startBtn","daysElement","hoursElement","minutesElement","secondsElement","selectedDate","intervalId","flatpickr","selectedDates","date","iziToast","startCountdown","timeLeft","updateDisplay","days","hours","minutes","seconds","convertMs","ms"],"mappings":"+IAMA,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAE9D,IAAIC,EAAe,KACfC,EAAa,KAEjBN,EAAS,SAAW,GAEpBO,EAAUR,EAAgB,CACtB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQS,EAAe,CACnB,MAAMC,EAAOD,EAAc,CAAC,EACxBC,GAAQ,IAAI,MACZC,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,oCAAoC,CAAE,EAChFV,EAAS,SAAW,KAEpBK,EAAeI,EACfT,EAAS,SAAW,GAE3B,CACL,CAAC,EAEDA,EAAS,iBAAiB,QAASW,CAAc,EAEjD,SAASA,GAAiB,CACtBX,EAAS,SAAW,GACpBD,EAAe,SAAW,GAE1BO,EAAa,YAAY,IAAM,CAC3B,MAAMM,EAAWP,EAAe,IAAI,KAEpC,GAAIO,GAAY,EACZ,cAAcN,CAAU,EACxBO,EAAc,EAAG,EAAG,EAAG,CAAC,EACxBd,EAAe,SAAW,OACvB,CACH,KAAM,CAAE,KAAAe,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAQ,EAC5DC,EAAcC,EAAMC,EAAOC,EAASC,CAAO,CAC9C,CACJ,EAAE,GAAI,CACX,CAEA,SAASC,EAAUC,EAAI,CAQrB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAE1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EAEpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EAEjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASJ,EAAcC,EAAMC,EAAOC,EAASC,EAAS,CAClDhB,EAAY,YAAc,OAAOa,CAAI,EAAE,SAAS,EAAG,GAAG,EACtDZ,EAAa,YAAc,OAAOa,CAAK,EAAE,SAAS,EAAG,GAAG,EACxDZ,EAAe,YAAc,OAAOa,CAAO,EAAE,SAAS,EAAG,GAAG,EAC5DZ,EAAe,YAAc,OAAOa,CAAO,EAAE,SAAS,EAAG,GAAG,CAChE"}